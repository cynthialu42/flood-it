(this["webpackJsonpflood-it"]=this["webpackJsonpflood-it"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var s=a(0),o=a.n(s),r=a(8),l=a.n(r),n=a(2),i=a(3),c=a(1),d=a(5),m=a(4),p=a(6),h=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={color:s.props.tileData.color,crow:!1},s}return Object(i.a)(a,[{key:"render",value:function(){if(this.props.crow){var e=!1;return this.props.colorCluster&&this.props.colorCluster.length===this.props.size*this.props.size&&(e=!0),o.a.createElement("div",{className:"tile tile-spin--".concat(e),style:{height:this.props.height,width:this.props.width}},o.a.createElement("i",{className:"fas fa-crow",style:{color:this.props.tileData.color,fontSize:this.props.height}}))}return o.a.createElement("div",{className:"tile",style:{backgroundColor:this.props.tileData.color,height:this.props.height,width:this.props.width}})}}]),a}(s.Component),u=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).findAllTiles=function(e,t,a,o){var r=[];e.map((function(s){var l=t[s],n=l.top,i=l.bottom,c=l.left,d=l.right;console.log(e.includes(n)),!t[n]||t[n].color!==a||e.includes(n)||o.includes(n)||r.push(n),!t[i]||t[i].color!==a||e.includes(i)||o.includes(i)||r.push(i),!t[c]||t[c].color!==a||e.includes(c)||o.includes(c)||r.push(c),!t[d]||t[d].color!==a||e.includes(d)||o.includes(d)||r.push(d)})),console.log("tempArr",Object(p.a)(new Set(r)));var l=Object(p.a)(new Set(r)),n=Object(p.a)(new Set([].concat(Object(p.a)(o),Object(p.a)(l))));return console.log("new full array",n),Object(p.a)(new Set(r)).length?s.findAllTiles(l,t,a,n):(console.log(Object(p.a)(new Set(r))),n)},s.state={size:s.props.size,colors:s.props.colors,gridColors:null,colorCluster:null,crow:s.props.crow},s.updateGrid=s.updateGrid.bind(Object(c.a)(s)),s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.generateGridData(this.props.size)}},{key:"componentDidUpdate",value:function(e){this.props.currentColor!==e.currentColor&&this.updateGrid(this.props.currentColor),(this.props.colors!==e.colors||this.props.size!==e.size||this.props.refresh)&&(this.setState({colorCluster:null,colors:this.props.colors,size:this.props.size}),this.generateGridData(this.props.size))}},{key:"updateGrid",value:function(e){var t=this,a=[],s=JSON.parse(JSON.stringify(this.state.gridColors)),o=JSON.parse(JSON.stringify(this.state.gridArray));(this.state.colorCluster?this.state.colorCluster:this.findAllTiles([1],s,s[1].color,[1])).forEach((function(t){var r=s[t],l=r.top,n=r.bottom,i=r.left,c=r.right;s[t].color=e,o[t-1].color=e,a.push(t),s[l]&&s[l].color===e&&a.push(l),s[n]&&s[n].color===e&&a.push(n),s[i]&&s[i].color===e&&a.push(i),s[c]&&s[c].color===e&&a.push(c)}));var r=JSON.parse(JSON.stringify(a)),l=this.findAllTiles(r,s,e,r);a=l,this.setState({colorCluster:Object(p.a)(new Set(a)),gridColors:s,gridArray:o},(function(){t.state.colorCluster&&t.state.colorCluster.length===t.props.size*t.props.size&&t.props.showWin()}))}},{key:"generateGridData",value:function(e){for(var t=e*e,a={},s=[],o=1;o<=t;o++){var r=this.props.colors[Math.floor(Math.random()*Math.floor(this.props.colors.length))],l=o-e>0?o-e:null,n=o+e<e*e?o+e:null,i=o%e===1?null:o-1,c=o%e===0?null:o+1;a[o]={color:r,top:l,bottom:n,left:i,right:c},s.push({tileNum:o,color:r,top:l,bottom:n,left:i,right:c})}this.setState({gridColors:a,gridArray:s})}},{key:"render",value:function(){var e,t=this,a=Math.floor(420/this.props.size),s=Math.floor(420/this.props.size);if(this.state.gridArray){for(var r=[],l=JSON.parse(JSON.stringify(this.state.gridArray)),n=0;n<this.state.size;n++)r.push(l.splice(0,this.state.size));e=r.map((function(e){var r=e.map((function(e){return o.a.createElement(h,{crow:t.props.crow,tileData:e,height:a,width:s,size:t.props.size,colorCluster:t.state.colorCluster})}));return o.a.createElement("div",{className:"d-flex flex-row justify-content-center"},r)}))}else e=null;return o.a.createElement("div",null,o.a.createElement("div",null,e),null)}}]),a}(s.Component),f=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return this.props.crow?o.a.createElement("div",{className:"color-buttons cursor-pointer",style:{height:50,width:50},onClick:function(){return e.props.sendColor(e.props.color)}},o.a.createElement("i",{className:"fas fa-crow",style:{color:this.props.color,fontSize:50}})):o.a.createElement("div",{className:"color-buttons cursor-pointer",style:{backgroundColor:this.props.color,height:50,width:50},onClick:function(){return e.props.sendColor(e.props.color)}})}}]),a}(s.Component),b=[{name:"standard",colors:["#FFDB58","#345995","#E40066","#03CEA4","#FB4D3D"]},{name:"sunset",colors:["#FEB965","#FE7F64","#E7586D","#714178","#493465"]},{name:"ocean",colors:["#A8D2DE","#43BEC6","#0197A6","#04718E","#02618E"]},{name:"pastel",colors:["#ffb3ba","#ffdfba","#ffffba","#baffc9","#bbe1ff"]}],g=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={selectedColorTheme:s.props.colorTheme,selectedGridSize:s.props.size},s.applySettingsChanges=s.applySettingsChanges.bind(Object(c.a)(s)),s.updateGridSize=s.updateGridSize.bind(Object(c.a)(s)),s.handleChange=s.handleChange.bind(Object(c.a)(s)),s}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){var t,a;e.size!==this.props.size&&(t=this.props.size,this.setState({selectedGridSize:t})),e.colorTheme!==this.props.colorTheme&&(a=this.props.colorTheme,this.setState({selectedColorTheme:a}))}},{key:"applySettingsChanges",value:function(){var e={colorTheme:this.state.selectedColorTheme,size:this.state.selectedGridSize};this.props.applyNewSettings(e),this.props.closeSidedrawer()}},{key:"updateGridSize",value:function(e){console.log(e.target.value),this.setState({selectedGridSize:Math.floor(e.target.value)})}},{key:"handleChange",value:function(e){console.log(e.target),console.log(e)}},{key:"render",value:function(){var e=this,t=b.map((function(t){var a=t.colors.map((function(e){return o.a.createElement("div",{style:{backgroundColor:e,height:35,width:35}})}));return o.a.createElement("div",{className:"d-flex mb-3 color-swatch-bar color-swatch-bar--".concat(e.state.selectedColorTheme===t.name?"border":null),onClick:function(){return e.setState({selectedColorTheme:t.name})}},a)}));return o.a.createElement("div",null,o.a.createElement("div",{className:"d-flex justify-content-between mb-3"},o.a.createElement("h3",null,"Manage Settings"),o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn-".concat(this.props.darkMode?"dark":"light"," mr-2"),onClick:this.props.closeSidedrawer},"Cancel"),o.a.createElement("button",{className:"btn btn-secondary",onClick:this.applySettingsChanges},"Apply"))),o.a.createElement("div",{className:"mb-3"},"*Current game will be lost when applying new settings"),o.a.createElement("h5",null,"Color Themes"),o.a.createElement("div",{className:"d-flex flex-column align-items-start mb-3"},t),o.a.createElement("h5",null,"Grid Size ".concat(this.state.selectedGridSize," x ").concat(this.state.selectedGridSize)),o.a.createElement("div",{className:"mb-3"},o.a.createElement("input",{className:"width-70",type:"number",onKeyPress:"return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57",name:"tentacles",min:"5",step:"5",max:"25",value:this.state.selectedGridSize,onChange:this.updateGridSize})))}}]),a}(s.Component),v=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={isOpen:s.props.isOpen,content:s.props.content},s}return Object(i.a)(a,[{key:"render",value:function(){var e=null,t=null;return this.props.isOpen?t="open":!1===this.props.isOpen&&(t="closed"),this.props.isOpen&&(e=o.a.createElement("div",{className:"sidedrawer-overlay",onClick:this.props.closeSidedrawer})),o.a.createElement("div",null,o.a.createElement("div",{className:"sidedrawer sidedrawer--".concat(t," sidedrawer-dark-mode--").concat(this.props.darkMode," pt-4 pb-4 pl-4 pr-4")},o.a.createElement(g,{colorTheme:this.props.colorTheme,applyNewSettings:this.props.applyNewSettings,closeSidedrawer:this.props.closeSidedrawer,size:this.props.size,darkMode:this.props.darkMode,applyMode:this.props.applyMode})),e)}}]),a}(s.Component),w=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).state={currentColor:null,crow:!1,sidedrawerIsOpen:null,content:"hi",theme:b[0],size:5,darkMode:!1,refresh:!1,winStats:null,totalClicks:0,best:{}},e.colorClicked=e.colorClicked.bind(Object(c.a)(e)),e.closeSidedrawer=e.closeSidedrawer.bind(Object(c.a)(e)),e.applyNewSettings=e.applyNewSettings.bind(Object(c.a)(e)),e.applyMode=e.applyMode.bind(Object(c.a)(e)),e.showWin=e.showWin.bind(Object(c.a)(e)),e.startNewGame=e.startNewGame.bind(Object(c.a)(e)),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e;if(localStorage.getItem("floodItSettings")){var t=e=JSON.parse(localStorage.getItem("floodItSettings")),a=t.theme,s=t.size,o=t.crow,r=t.darkMode,l=t.best;this.setState({theme:a,size:s,crow:o,darkMode:r,best:l})}else e={theme:b[0],size:5,crow:!1,darkMode:!1,best:{}},localStorage.setItem("floodItSettings",JSON.stringify(e))}},{key:"showWin",value:function(){var e=this.state,t=e.size,a=e.best,s=e.totalClicks,o=JSON.parse(localStorage.getItem("floodItSettings")),r=o.best[t],l={},n=0;!a[t]||s<=a[t]?(l[t]=s<r?s:r,n=s):(l[t]=a[t],n=a[t]),o.best[t]<n||(o.best[t]=n,localStorage.setItem("floodItSettings",JSON.stringify(o))),this.setState({winStats:{message:"Flooded!",steps:s,best:l[t]},best:l})}},{key:"colorClicked",value:function(e){if(!this.state.winStats){var t=this.state.totalClicks+1;this.setState({currentColor:e,totalClicks:t})}}},{key:"startNewGame",value:function(){var e=this;this.setState({refresh:!this.state.refresh,winStats:null,totalClicks:0},(function(){return e.setState({refresh:!e.state.refresh})}))}},{key:"startNewGameConfirmation",value:function(){}},{key:"closeSidedrawer",value:function(){this.setState({sidedrawerIsOpen:!1})}},{key:"applyNewSettings",value:function(e){var t=b.find((function(t){return t.name===e.colorTheme}));this.setState({theme:t,currentColor:null,size:e.size,totalClicks:0,winStats:null});var a=JSON.parse(localStorage.getItem("floodItSettings"));a.theme=t,a.size=e.size,localStorage.setItem("floodItSettings",JSON.stringify(a))}},{key:"applyMode",value:function(e){this.setState({darkMode:e})}},{key:"render",value:function(){var e,t=this;e=this.state.theme.colors.map((function(e){return o.a.createElement(f,{color:e,sendColor:t.colorClicked,crow:t.state.crow})}));var a=JSON.parse(localStorage.getItem("floodItSettings")),s=[],r=o.a.createElement("div",null);if(a&&a.best){for(var l in a.best)s.push({size:l,value:a.best[l]});r=s.map((function(e){var a=!1;return parseInt(e.size)===t.state.size&&(a=!0),o.a.createElement("div",{className:"mb-2 font-20 d-flex justify-content-center bold--".concat(a)},e.size,"x",e.size," Grid:"," ",o.a.createElement("div",{className:"win-stat-number ml-3 bold--".concat(a)},e.value))}))}var n=this.state.darkMode?this.state.theme.colors[this.state.theme.colors.length-1]:this.state.theme.colors[0],i=this.state.winStats?o.a.createElement("div",{className:"mt-5 width-420"},o.a.createElement("div",{className:"text-align-center win-box--".concat(this.state.darkMode," p-5")},o.a.createElement("h5",{className:"mb-5 font-25"},o.a.createElement("strong",null,this.state.winStats.message)),o.a.createElement("div",{className:"mb-3 font-20 d-flex justify-content-center bold--true"},o.a.createElement("strong",null,"Steps Taken: "),o.a.createElement("div",{className:"win-stat-number ml-3"},this.state.winStats.steps)),o.a.createElement("div",{className:"mb-2 font-20"},o.a.createElement("strong",null,"Best Game:")),r,o.a.createElement("button",{className:"btn btn-secondary mt-3",onClick:this.startNewGame},"New Game?"))):null;return o.a.createElement("div",{className:"wrapper dark-mode--".concat(this.state.darkMode)},o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light mb-3",style:{backgroundColor:n}},o.a.createElement("h1",null,"Flood It!"),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse flex-row-reverse",id:"navbarNavDropdown"},o.a.createElement("ul",{className:"navbar-nav"},o.a.createElement("li",{className:"nav-item active ml-3"},o.a.createElement("i",{title:"How To Play",className:"fas fa-question font-25 cursor-pointer","data-toggle":"modal","data-target":"#instructionsModal"})),o.a.createElement("li",{className:"nav-item active ml-3"},o.a.createElement("i",{title:this.state.darkMode?"Dark Mode":"Light Mode",className:"fas fa-".concat(this.state.darkMode?"moon":"sun"," font-25 rainbow cursor-pointer"),onClick:function(){var e=JSON.parse(localStorage.getItem("floodItSettings"));e.darkMode=!t.state.darkMode,localStorage.setItem("floodItSettings",JSON.stringify(e)),t.setState({darkMode:!t.state.darkMode})}})),o.a.createElement("li",{className:"nav-item active ml-3"},o.a.createElement("i",{title:this.state.crow?"Block Mode!":"CAW!",className:"fas fa-".concat(this.state.crow?"square":"crow"," font-25 rainbow cursor-pointer"),onClick:function(){var e=JSON.parse(localStorage.getItem("floodItSettings"));e.crow=!t.state.crow,localStorage.setItem("floodItSettings",JSON.stringify(e)),t.setState({crow:!t.state.crow})}})),o.a.createElement("li",{className:"nav-item active ml-3"},o.a.createElement("i",{title:"Settings",className:"fas fa-cog font-25 cursor-pointer",onClick:function(){return t.setState({sidedrawerIsOpen:!t.state.sidedrawerIsOpen})}}))))),o.a.createElement("div",{className:"page-body pt-2 pb-3 d-flex justify-content-around"},o.a.createElement("div",null,o.a.createElement("div",{className:"d-flex justify-content-between font-1_5 width-420"},o.a.createElement("div",null),o.a.createElement("div",null,"Steps: ",this.state.totalClicks),this.state.winStats?o.a.createElement("div",null):o.a.createElement("div",null,o.a.createElement("i",{title:"New Game",className:"fas fa-redo font-1_25 cursor-pointer","data-toggle":"modal","data-target":"#exampleModal"}))),o.a.createElement(u,{size:this.state.size,crow:this.state.crow,colors:this.state.theme.colors,currentColor:this.state.currentColor,refresh:this.state.refresh,showWin:this.showWin}),o.a.createElement("div",{className:"d-flex justify-content-center mt-5"},e)),i),o.a.createElement("footer",{className:"footer text-align-center"},"\xa9 Cynthia Lu ",(new Date).getFullYear()),o.a.createElement(v,{isOpen:this.state.sidedrawerIsOpen,closeSidedrawer:this.closeSidedrawer,colorTheme:this.state.theme.name,applyNewSettings:this.applyNewSettings,size:this.state.size,darkMode:this.state.darkMode,applyMode:this.applyMode}),o.a.createElement("div",{className:"modal fade",id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},o.a.createElement("div",{className:"modal-content dark-mode--".concat(this.state.darkMode?"true":"false")},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Start New Game?"),o.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),o.a.createElement("div",{className:"modal-body"},"Current game will be lost."),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{type:"button",className:"btn btn-light","data-dismiss":"modal"},"Cancel"),o.a.createElement("button",{type:"button","data-dismiss":"modal",className:"btn btn-secondary",onClick:this.startNewGame},"Accept"))))),o.a.createElement("div",{className:"modal fade",id:"instructionsModal",tabindex:"-1",role:"dialog","aria-labelledby":"instructionsModal","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},o.a.createElement("div",{className:"modal-content dark-mode--".concat(this.state.darkMode?"true":"false")},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title",id:"instructionsModalLabel"},"How To Play"),o.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),o.a.createElement("div",{className:"modal-body"},o.a.createElement("ul",null,o.a.createElement("li",null,"This is a copycat of the game of the same name 'Flood It!'"),o.a.createElement("li",null,"The goal is to 'flood' the board with 1 color, starting from the top left corner"),o.a.createElement("li",null,"Click on the 5 color buttons below the grid to change the color of the starting square"),o.a.createElement("li",null,"Same colors adjacent to the starting square will become part of the 'flood'"),o.a.createElement("li",null,"Keep changing colors until the board is flooded!")))))))}}]),a}(s.Component);a(14);var S=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.25eb59b8.chunk.js.map